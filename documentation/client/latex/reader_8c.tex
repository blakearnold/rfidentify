\hypertarget{reader_8c}{
\section{client/reader.c File Reference}
\label{reader_8c}\index{client/reader.c@{client/reader.c}}
}
{\ttfamily \#include \char`\"{}reader.h\char`\"{}}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$stdio.h$>$}\par
Include dependency graph for reader.c:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=121pt]{reader_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{reader_8c_a89a5395890ec54ed2e9abd98d28c3fd6}{
struct \hyperlink{structreader}{reader} $\ast$ \hyperlink{reader_8c_a89a5395890ec54ed2e9abd98d28c3fd6}{reader\_\-create} ()}
\label{reader_8c_a89a5395890ec54ed2e9abd98d28c3fd6}

\begin{DoxyCompactList}\small\item\em Return a newly allocated reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a00e4d9bb3baf9af2bb00a0abf960f528}{
void \hyperlink{reader_8c_a00e4d9bb3baf9af2bb00a0abf960f528}{reader\_\-init} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, struct ftdi\_\-context $\ast$ftdic, struct usb\_\-device $\ast$dev)}
\label{reader_8c_a00e4d9bb3baf9af2bb00a0abf960f528}

\begin{DoxyCompactList}\small\item\em Initialize a newly allocated reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a1f6a26bc58a13b3a6518a0e376aeb761}{
struct \hyperlink{structtag}{tag} $\ast$ \hyperlink{reader_8c_a1f6a26bc58a13b3a6518a0e376aeb761}{tag\_\-create} ()}
\label{reader_8c_a1f6a26bc58a13b3a6518a0e376aeb761}

\begin{DoxyCompactList}\small\item\em Returns a newly allocated tag. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a0f161b5da6c8c55afe84fce625db9a2f}{
void \hyperlink{reader_8c_a0f161b5da6c8c55afe84fce625db9a2f}{tag\_\-init} (struct \hyperlink{structtag}{tag} $\ast$\hyperlink{structtag}{tag}, char $\ast$id, struct \hyperlink{structreader}{reader} $\ast$parent)}
\label{reader_8c_a0f161b5da6c8c55afe84fce625db9a2f}

\begin{DoxyCompactList}\small\item\em Initializes a newly allocated tag. \item\end{DoxyCompactList}\item 
\hyperlink{structlist}{list} $\ast$ \hyperlink{reader_8c_a44b115e0bf4e92f6bfe2dcff067e49f5}{find\_\-all\_\-readers} (struct \hyperlink{structlist}{list} $\ast$readers)
\begin{DoxyCompactList}\small\item\em Returns a list of all connected readers. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a439267aa086867cfa328252e98372fff}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_a439267aa086867cfa328252e98372fff}{reader\_\-connect} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, int beep)}
\label{reader_8c_a439267aa086867cfa328252e98372fff}

\begin{DoxyCompactList}\small\item\em Connects to a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_aa7cbb7fa2c4518fdd92604405f3432ca}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_aa7cbb7fa2c4518fdd92604405f3432ca}{reader\_\-disconnect} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8c_aa7cbb7fa2c4518fdd92604405f3432ca}

\begin{DoxyCompactList}\small\item\em Disconnects from a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a0ca9c7c3b46619215a5c62c215c0be26}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_a0ca9c7c3b46619215a5c62c215c0be26}{reader\_\-reset} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8c_a0ca9c7c3b46619215a5c62c215c0be26}

\begin{DoxyCompactList}\small\item\em Resets a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a16a8be4c849758cd6bf56dbb98bbb397}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_a16a8be4c849758cd6bf56dbb98bbb397}{reader\_\-pass\_\-beep} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8c_a16a8be4c849758cd6bf56dbb98bbb397}

\begin{DoxyCompactList}\small\item\em Causes the reader to emit the PASS beep. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_adb993593046e74f8861dca1e36fe59f7}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_adb993593046e74f8861dca1e36fe59f7}{reader\_\-fail\_\-beep} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8c_adb993593046e74f8861dca1e36fe59f7}

\begin{DoxyCompactList}\small\item\em Causes the reader to emit the FAIL beep. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_ad473a49314c30853ea1504c24a90a781}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_ad473a49314c30853ea1504c24a90a781}{reader\_\-ping} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8c_ad473a49314c30853ea1504c24a90a781}

\begin{DoxyCompactList}\small\item\em Pings a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a1872bfeb60bff7467120b3488199c2c4}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_a1872bfeb60bff7467120b3488199c2c4}{reader\_\-purge} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8c_a1872bfeb60bff7467120b3488199c2c4}

\begin{DoxyCompactList}\small\item\em Purges a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a77f69048a63c0140760e8478ed65b442}{
int \hyperlink{reader_8c_a77f69048a63c0140760e8478ed65b442}{reader\_\-read\_\-packet} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, char $\ast$buf, int maxlen)}
\label{reader_8c_a77f69048a63c0140760e8478ed65b442}

\begin{DoxyCompactList}\small\item\em Reads a packet from a reader into a buffer. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a35ce5c55ac2b57fc38173270a14a33b0}{
int \hyperlink{reader_8c_a35ce5c55ac2b57fc38173270a14a33b0}{reader\_\-txPacketRxReply} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, char $\ast$tx\_\-packet, int tx\_\-packet\_\-len, char $\ast$rx\_\-buf, int rx\_\-buf\_\-len, int $\ast$payload\_\-index)}
\label{reader_8c_a35ce5c55ac2b57fc38173270a14a33b0}

\begin{DoxyCompactList}\small\item\em TODO. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_ada25a7e053335f1d9c2c4e05043a47e4}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8c_ada25a7e053335f1d9c2c4e05043a47e4}{reader\_\-txPacketCheckAck} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, char $\ast$tx\_\-packet, int tx\_\-packet\_\-len)}
\label{reader_8c_ada25a7e053335f1d9c2c4e05043a47e4}

\begin{DoxyCompactList}\small\item\em Returns if successfully acknowledged. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_ab599da4f016082f958512f55ea775bd8}{
int \hyperlink{reader_8c_ab599da4f016082f958512f55ea775bd8}{reader\_\-parse\_\-poll\_\-packet} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, struct \hyperlink{structlist}{list} $\ast$tagList, char $\ast$packetPayload, int packetPayload\_\-len)}
\label{reader_8c_ab599da4f016082f958512f55ea775bd8}

\begin{DoxyCompactList}\small\item\em Parses a packet returned from a reader poll. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_acb4c72f1fe61a87135140e51d12e5b43}{
int \hyperlink{reader_8c_acb4c72f1fe61a87135140e51d12e5b43}{reader\_\-poll15693} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, \hyperlink{structlist}{list} $\ast$tagList)}
\label{reader_8c_acb4c72f1fe61a87135140e51d12e5b43}

\begin{DoxyCompactList}\small\item\em Causes the reader to poll for and ISO15693 tag. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8c_a8849ebe57eadac17ff0d1882a1c0bcdf}{
int \hyperlink{reader_8c_a8849ebe57eadac17ff0d1882a1c0bcdf}{reader\_\-pollTi} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, \hyperlink{structlist}{list} $\ast$tagList)}
\label{reader_8c_a8849ebe57eadac17ff0d1882a1c0bcdf}

\begin{DoxyCompactList}\small\item\em Attempts to poll the reader for various tags. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Device library for an RFID reader. Particularly the DLP-\/RFID1.

\begin{DoxyAuthor}{Author}
Willi Ballenthin 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
Spring, 2010 
\end{DoxyDate}


Definition in file \hyperlink{reader_8c_source}{reader.c}.



\subsection{Function Documentation}
\hypertarget{reader_8c_a44b115e0bf4e92f6bfe2dcff067e49f5}{
\index{reader.c@{reader.c}!find\_\-all\_\-readers@{find\_\-all\_\-readers}}
\index{find\_\-all\_\-readers@{find\_\-all\_\-readers}!reader.c@{reader.c}}
\subsubsection[{find\_\-all\_\-readers}]{\setlength{\rightskip}{0pt plus 5cm}{\bf list}$\ast$ find\_\-all\_\-readers (struct {\bf list} $\ast$ {\em readers})}}
\label{reader_8c_a44b115e0bf4e92f6bfe2dcff067e49f5}


Returns a list of all connected readers. 


\begin{DoxyParams}{Parameters}
\item[{\em readers}]Probably should be an empty list. \end{DoxyParams}


Definition at line 40 of file reader.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{reader_8c_a44b115e0bf4e92f6bfe2dcff067e49f5_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=124pt]{reader_8c_a44b115e0bf4e92f6bfe2dcff067e49f5_icgraph}
\end{center}
\end{figure}


