\hypertarget{reader_8h}{
\section{client/reader.h File Reference}
\label{reader_8h}\index{client/reader.h@{client/reader.h}}
}
{\ttfamily \#include \char`\"{}list.h\char`\"{}}\par
{\ttfamily \#include $<$ftdi.h$>$}\par
Include dependency graph for reader.h:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=68pt]{reader_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=143pt]{reader_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structreader}{reader}
\begin{DoxyCompactList}\small\item\em Completely identifies a currently connected RFID reader. \item\end{DoxyCompactList}\item 
struct \hyperlink{structtag}{tag}
\begin{DoxyCompactList}\small\item\em An RFID identification. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\hypertarget{reader_8h_ab2577f390f8e87c4d6c16d9fb5854d2f}{
\#define \hyperlink{reader_8h_ab2577f390f8e87c4d6c16d9fb5854d2f}{EDEVERR}~-\/1}
\label{reader_8h_ab2577f390f8e87c4d6c16d9fb5854d2f}

\begin{DoxyCompactList}\small\item\em Device error. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a1ceb0e81b845fdcd1b8371e92229a13b}{
\#define \hyperlink{reader_8h_a1ceb0e81b845fdcd1b8371e92229a13b}{BEEP}~1}
\label{reader_8h_a1ceb0e81b845fdcd1b8371e92229a13b}

\begin{DoxyCompactList}\small\item\em True. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_aebf1b898760455eec6543e79e6c42b73}{
\#define \hyperlink{reader_8h_aebf1b898760455eec6543e79e6c42b73}{NOBEEP}~0}
\label{reader_8h_aebf1b898760455eec6543e79e6c42b73}

\begin{DoxyCompactList}\small\item\em False. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a80591b5e63669a2648116a7672d858e7}{
\#define {\bfseries RFID1\_\-VID}~0x0403}
\label{reader_8h_a80591b5e63669a2648116a7672d858e7}

\item 
\hypertarget{reader_8h_ab4602149aec6ab8d21dcc5dab705d7e8}{
\#define {\bfseries RFID1\_\-PID}~0xfbfc}
\label{reader_8h_ab4602149aec6ab8d21dcc5dab705d7e8}

\item 
\hypertarget{reader_8h_a9b66c7076d2844d870ca627d40ffa810}{
\#define {\bfseries RFID1\_\-DESC}~\char`\"{}DLP-\/RFID1\char`\"{}}
\label{reader_8h_a9b66c7076d2844d870ca627d40ffa810}

\item 
\hypertarget{reader_8h_a0f0248c20aae1fa252f625257971ca80}{
\#define {\bfseries RFID1\_\-BAUDRATE}~115200}
\label{reader_8h_a0f0248c20aae1fa252f625257971ca80}

\item 
\hypertarget{reader_8h_a36cb35d72e8a7095cbeff96ca30b5355}{
\#define {\bfseries RFID1\_\-PKT\_\-PING}~\char`\"{}0108000304FF0000\char`\"{}}
\label{reader_8h_a36cb35d72e8a7095cbeff96ca30b5355}

\item 
\hypertarget{reader_8h_a66902d1a267b7807322ce9cc4630ec0b}{
\#define {\bfseries RFID1\_\-PKT\_\-AGCTGL}~\char`\"{}0109000304F0000000\char`\"{}}
\label{reader_8h_a66902d1a267b7807322ce9cc4630ec0b}

\item 
\hypertarget{reader_8h_ac24164ea5c944c8b4d783ee3f22d8470}{
\#define {\bfseries RFID1\_\-PKT\_\-AMPMTGL}~\char`\"{}0109000304F1FF0000\char`\"{}}
\label{reader_8h_ac24164ea5c944c8b4d783ee3f22d8470}

\item 
\hypertarget{reader_8h_a836050b7b583dfe933e257370dfc8313}{
\#define {\bfseries RFID1\_\-PKT\_\-PASSBEEP}~\char`\"{}010900030419F00000\char`\"{}}
\label{reader_8h_a836050b7b583dfe933e257370dfc8313}

\item 
\hypertarget{reader_8h_ad7a6feb9a38d6cc2c048fc6a91dee55c}{
\#define {\bfseries RFID1\_\-PKT\_\-FAILBEEP}~\char`\"{}010900030420F00000\char`\"{}}
\label{reader_8h_ad7a6feb9a38d6cc2c048fc6a91dee55c}

\item 
\hypertarget{reader_8h_afe909b579eaafcbe02f2fbed2ebd9817}{
\#define {\bfseries RFID1\_\-PKT\_\-15693INVRQ}~\char`\"{}010B000304140601000000\char`\"{}}
\label{reader_8h_afe909b579eaafcbe02f2fbed2ebd9817}

\item 
\hypertarget{reader_8h_aa0873f85674ea390dec2d2f10c59acf0}{
\#define {\bfseries RFID1\_\-PKT\_\-TISIDPOLL}~\char`\"{}010B000304340050000000\char`\"{}}
\label{reader_8h_aa0873f85674ea390dec2d2f10c59acf0}

\item 
\hypertarget{reader_8h_a50e4d0b184788b1c2e4300adf669afb9}{
\#define {\bfseries RFID1\_\-PKT\_\-MODEMEM}~\char`\"{}010C00030410002101000000\char`\"{}}
\label{reader_8h_a50e4d0b184788b1c2e4300adf669afb9}

\item 
\hypertarget{reader_8h_a2a3cf1e5fbd4f54c3d291df6a57aaf0b}{
\#define {\bfseries RFID1\_\-PKT\_\-MODEUID}~\char`\"{}010C00030410002101020000\char`\"{}}
\label{reader_8h_a2a3cf1e5fbd4f54c3d291df6a57aaf0b}

\item 
\hypertarget{reader_8h_a38c2dcdedaed7967bc58b6563d6389dd}{
\#define {\bfseries RFID1\_\-PKT\_\-TAGIT}~\char`\"{}010C00030410002101130000\char`\"{}}
\label{reader_8h_a38c2dcdedaed7967bc58b6563d6389dd}

\item 
\hypertarget{reader_8h_a2a188f51c84aa62c0760c1129ba193e8}{
\#define {\bfseries RFID1\_\-EOP\_\-CHAR}~'$>$'}
\label{reader_8h_a2a188f51c84aa62c0760c1129ba193e8}

\item 
\hypertarget{reader_8h_ad80877070735977f9a618595f3624ca4}{
\#define {\bfseries RFID\_\-ID\_\-LEN}~20}
\label{reader_8h_ad80877070735977f9a618595f3624ca4}

\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \{ \par
{\bfseries RC\_\-SUCCESS} =  0, 
{\bfseries RC\_\-ERROR}, 
{\bfseries RC\_\-NULL\_\-ERROR}, 
{\bfseries RC\_\-IO\_\-ERROR}, 
\par
{\bfseries RC\_\-NO\_\-PING}, 
{\bfseries RC\_\-NOT\_\-CONNECTED}
 \}
\begin{DoxyCompactList}\small\item\em Possible return codes from reader. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{reader_8h_a89a5395890ec54ed2e9abd98d28c3fd6}{
struct \hyperlink{structreader}{reader} $\ast$ \hyperlink{reader_8h_a89a5395890ec54ed2e9abd98d28c3fd6}{reader\_\-create} ()}
\label{reader_8h_a89a5395890ec54ed2e9abd98d28c3fd6}

\begin{DoxyCompactList}\small\item\em Return a newly allocated reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a00e4d9bb3baf9af2bb00a0abf960f528}{
void \hyperlink{reader_8h_a00e4d9bb3baf9af2bb00a0abf960f528}{reader\_\-init} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, struct ftdi\_\-context $\ast$ftdic, struct usb\_\-device $\ast$dev)}
\label{reader_8h_a00e4d9bb3baf9af2bb00a0abf960f528}

\begin{DoxyCompactList}\small\item\em Initialize a newly allocated reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a1f6a26bc58a13b3a6518a0e376aeb761}{
struct \hyperlink{structtag}{tag} $\ast$ \hyperlink{reader_8h_a1f6a26bc58a13b3a6518a0e376aeb761}{tag\_\-create} ()}
\label{reader_8h_a1f6a26bc58a13b3a6518a0e376aeb761}

\begin{DoxyCompactList}\small\item\em Returns a newly allocated tag. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a0f161b5da6c8c55afe84fce625db9a2f}{
void \hyperlink{reader_8h_a0f161b5da6c8c55afe84fce625db9a2f}{tag\_\-init} (struct \hyperlink{structtag}{tag} $\ast$\hyperlink{structtag}{tag}, char $\ast$id, struct \hyperlink{structreader}{reader} $\ast$parent)}
\label{reader_8h_a0f161b5da6c8c55afe84fce625db9a2f}

\begin{DoxyCompactList}\small\item\em Initializes a newly allocated tag. \item\end{DoxyCompactList}\item 
\hyperlink{structlist}{list} $\ast$ \hyperlink{reader_8h_a29c9b16ecae4e8e1c1a87ef2bdff0e3d}{find\_\-all\_\-readers} (\hyperlink{structlist}{list} $\ast$readers)
\begin{DoxyCompactList}\small\item\em Returns a list of all connected readers. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a439267aa086867cfa328252e98372fff}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_a439267aa086867cfa328252e98372fff}{reader\_\-connect} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, int beep)}
\label{reader_8h_a439267aa086867cfa328252e98372fff}

\begin{DoxyCompactList}\small\item\em Connects to a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_aa7cbb7fa2c4518fdd92604405f3432ca}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_aa7cbb7fa2c4518fdd92604405f3432ca}{reader\_\-disconnect} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8h_aa7cbb7fa2c4518fdd92604405f3432ca}

\begin{DoxyCompactList}\small\item\em Disconnects from a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a0ca9c7c3b46619215a5c62c215c0be26}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_a0ca9c7c3b46619215a5c62c215c0be26}{reader\_\-reset} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8h_a0ca9c7c3b46619215a5c62c215c0be26}

\begin{DoxyCompactList}\small\item\em Resets a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a16a8be4c849758cd6bf56dbb98bbb397}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_a16a8be4c849758cd6bf56dbb98bbb397}{reader\_\-pass\_\-beep} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8h_a16a8be4c849758cd6bf56dbb98bbb397}

\begin{DoxyCompactList}\small\item\em Causes the reader to emit the PASS beep. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_adb993593046e74f8861dca1e36fe59f7}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_adb993593046e74f8861dca1e36fe59f7}{reader\_\-fail\_\-beep} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8h_adb993593046e74f8861dca1e36fe59f7}

\begin{DoxyCompactList}\small\item\em Causes the reader to emit the FAIL beep. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_ad473a49314c30853ea1504c24a90a781}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_ad473a49314c30853ea1504c24a90a781}{reader\_\-ping} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8h_ad473a49314c30853ea1504c24a90a781}

\begin{DoxyCompactList}\small\item\em Pings a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a1872bfeb60bff7467120b3488199c2c4}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_a1872bfeb60bff7467120b3488199c2c4}{reader\_\-purge} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader})}
\label{reader_8h_a1872bfeb60bff7467120b3488199c2c4}

\begin{DoxyCompactList}\small\item\em Purges a given reader. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a29341552afcc96cdb1adc305c0e0c54e}{
int \hyperlink{reader_8h_a29341552afcc96cdb1adc305c0e0c54e}{reader\_\-read\_\-packet} (struct \hyperlink{structreader}{reader} $\ast$r, char $\ast$buf, int maxlen)}
\label{reader_8h_a29341552afcc96cdb1adc305c0e0c54e}

\begin{DoxyCompactList}\small\item\em Reads a packet from a reader into a buffer. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a35ce5c55ac2b57fc38173270a14a33b0}{
int \hyperlink{reader_8h_a35ce5c55ac2b57fc38173270a14a33b0}{reader\_\-txPacketRxReply} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, char $\ast$tx\_\-packet, int tx\_\-packet\_\-len, char $\ast$rx\_\-buf, int rx\_\-buf\_\-len, int $\ast$payload\_\-index)}
\label{reader_8h_a35ce5c55ac2b57fc38173270a14a33b0}

\begin{DoxyCompactList}\small\item\em TODO. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_ada25a7e053335f1d9c2c4e05043a47e4}{
\hyperlink{reader_8h_a5a2236a3693e3930b2c9fbe1fe7144ec}{ReturnCode} \hyperlink{reader_8h_ada25a7e053335f1d9c2c4e05043a47e4}{reader\_\-txPacketCheckAck} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, char $\ast$tx\_\-packet, int tx\_\-packet\_\-len)}
\label{reader_8h_ada25a7e053335f1d9c2c4e05043a47e4}

\begin{DoxyCompactList}\small\item\em Returns if successfully acknowledged. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_ab599da4f016082f958512f55ea775bd8}{
int \hyperlink{reader_8h_ab599da4f016082f958512f55ea775bd8}{reader\_\-parse\_\-poll\_\-packet} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, struct \hyperlink{structlist}{list} $\ast$tagList, char $\ast$packetPayload, int packetPayload\_\-len)}
\label{reader_8h_ab599da4f016082f958512f55ea775bd8}

\begin{DoxyCompactList}\small\item\em Parses a packet returned from a reader poll. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_acb4c72f1fe61a87135140e51d12e5b43}{
int \hyperlink{reader_8h_acb4c72f1fe61a87135140e51d12e5b43}{reader\_\-poll15693} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, \hyperlink{structlist}{list} $\ast$tagList)}
\label{reader_8h_acb4c72f1fe61a87135140e51d12e5b43}

\begin{DoxyCompactList}\small\item\em Causes the reader to poll for and ISO15693 tag. \item\end{DoxyCompactList}\item 
\hypertarget{reader_8h_a8849ebe57eadac17ff0d1882a1c0bcdf}{
int \hyperlink{reader_8h_a8849ebe57eadac17ff0d1882a1c0bcdf}{reader\_\-pollTi} (struct \hyperlink{structreader}{reader} $\ast$\hyperlink{structreader}{reader}, \hyperlink{structlist}{list} $\ast$tagList)}
\label{reader_8h_a8849ebe57eadac17ff0d1882a1c0bcdf}

\begin{DoxyCompactList}\small\item\em Attempts to poll the reader for various tags. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Device library for an RFID reader. Particularly the DLP-\/RFID1.

\begin{DoxyAuthor}{Author}
Willi Ballenthin 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
Spring, 2010 
\end{DoxyDate}


Definition in file \hyperlink{reader_8h_source}{reader.h}.



\subsection{Function Documentation}
\hypertarget{reader_8h_a29c9b16ecae4e8e1c1a87ef2bdff0e3d}{
\index{reader.h@{reader.h}!find\_\-all\_\-readers@{find\_\-all\_\-readers}}
\index{find\_\-all\_\-readers@{find\_\-all\_\-readers}!reader.h@{reader.h}}
\subsubsection[{find\_\-all\_\-readers}]{\setlength{\rightskip}{0pt plus 5cm}{\bf list}$\ast$ find\_\-all\_\-readers (struct {\bf list} $\ast$ {\em readers})}}
\label{reader_8h_a29c9b16ecae4e8e1c1a87ef2bdff0e3d}


Returns a list of all connected readers. 


\begin{DoxyParams}{Parameters}
\item[{\em readers}]Probably should be an empty list. \end{DoxyParams}


Definition at line 40 of file reader.c.



Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{reader_8h_a29c9b16ecae4e8e1c1a87ef2bdff0e3d_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=124pt]{reader_8h_a29c9b16ecae4e8e1c1a87ef2bdff0e3d_icgraph}
\end{center}
\end{figure}


